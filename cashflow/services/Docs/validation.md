# Система валидации

## Распределение ответственности

### Сервисный слой (services/validators.py)
- **Проверки уникальности**:
  - Уникальные имена моделей (Status, OperationType)
  - Уникальность в рамках родительской модели (Category → OperationType)
- **Бизнес-логика**:
  - Валидация дат и сумм CashFlow
  - Проверка связей между моделями
- **Комплексные проверки**:
  - Полная валидация всех полей CashFlow

### Сериализаторы (api/serializers.py)
- **Преобразование данных**:
  - Приведение типов
  - Форматирование вывода
- **Базовая валидация**:
  - Обязательные поля
  - Корректность форматов
- **Интеграция с API**:
  - Подготовка ошибок для клиента
  - Дополнительные вычисляемые поля

## Принципы работы
1. Все проверки уникальности выполняются в сервисном слое
2. Сериализаторы делегируют сложную валидацию сервисам
3. Ошибки преобразуются в формат DRF
4. Повторное использование кода через наследование